{% extends 'base.html.twig' %}

{% block title %}Liste des tÃ¢ches
{% endblock %}

{% block body %}

	{# <p>{{translated}}</p> #}
	{# <p>{{translated|trans}}</p> #}
		<div class="container"> {% for label, messages in app.flashes %}
			{% for message in messages %}
				<div class="d-flex justify-content-center">
					<p class="fw-bold text-{{ label }}">
						{{ message }}
					</p>
				</div>
			{% endfor %}
		{% endfor %}
	

	<a href="{{ path('task_create') }}" class="btn btn-primary">{% trans from "messages" %}general.button.add{% endtrans %}</a>
	{% if is_granted('ROLE_ADMIN') %}<a href="{{ path('user_listing') }}" class="btn btn-primary">{% trans from "messages" %}user.title{% endtrans %}</a>{% endif %}
	
	<table class="table-striped table-bordered" id="tableTasks">
		<thead>
			<th>Id</th>
			<th>{% trans from "messages" %}general.name{% endtrans %}</th>
			<th>{% trans from "messages" %}general.description{% endtrans %}</th>
			<th>{% trans from "messages" %}general.due_date{% endtrans %}</th>
			<th>{% trans from "messages" %}general.category{% endtrans %}</th>
			<th></th>
			<th></th>
		</thead>
		<tbody>
			{% if tasks is defined %}
				{% for task in tasks %}
					<tr>
						<th scope="row">{{ task.id }}</th>
						<td>{{ task.name }}</td>
						<td>{{ task.description }}</td>
						<td>{{ task.dueAt | date('d/m/Y H:i') }}</td>
						<td>{{ task.tag.name }}</td>
						<td>
							<a href="{{ path('task_update', {'id': task.id}) }}" class="btn btn-success">{% trans from "messages" %}general.button.update{% endtrans %}</a>
						</td>
						<td>
							<a href="{{ path('task_delete', {'id': task.id}) }}" class="btn btn-danger">{% trans from "messages" %}general.button.delete{% endtrans %}</a>
						</td>
					</tr>
				{% endfor %}
			{% endif %}

		</tbody>
	</table>
</div>

	

{% endblock %}
{# {% block javascripts %} #}

		{#{{ encore_entry_script_tags('app') }}#}
	{# {% endblock %} #}
